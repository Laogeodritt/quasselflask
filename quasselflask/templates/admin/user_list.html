{% extends 'skel_main.html' %}
{% block title %}Manage Users - USERNAME{% endblock %}
{% block content %}
    <section>
        {% from "flask_user/_macros.html" import render_field, render_checkbox_field, render_submit_field %}
        <h2>{%trans%}Manage Users - USERNAME{%endtrans%}</h2>

        {# TODO: replace this with proper stuff #}
        <form action="" method="POST" id="form-login" role="form" class="narrow">
            {{ form.hidden_tag() }}

            {# Username or Email field #}
            {% set field = form.username if user_manager.enable_username else form.email %}
            <div class="{% if field.errors %}has-error{% endif %}">
                {{ field(tabindex=210, placeholder='Username') }}
            </div>
            {% if field.errors %}
                {% for e in field.errors %}
                    <p class="help-block">{{ e }}</p>
                {% endfor %}
            {% endif %}

            {# Email field #}
            {% if user_manager.enable_email and user_manager.enable_username %}
                {% set field = form.email %}
                <div class="{% if field.errors %}has-error{% endif %}">
                    {{ field(class_='', tabindex=220, placeholder='Email') }}
                </div>
                {% if field.errors %}
                    {% for e in field.errors %}
                        <p class="help-block">{{ e }}</p>
                    {% endfor %}
                {% endif %}
            {% endif %}

            {# Password field #}
            {% set field = form.password %}
            <div class="{% if field.errors %}has-error{% endif %}">
                {{ field(class_='', tabindex=230, placeholder='Password') }}
            </div>
            {% if field.errors %}
                {% for e in field.errors %}
                    <p class="help-block">{{ e }}</p>
                {% endfor %}
            {% endif %}

            {# Superuser checkbox #}
            <div>
                {{ render_checkbox_field(form.superuser, tabindex=250) }}
            </div>

            {# Submit button #}
            {{ render_submit_field(form.submit, tabindex=280) }}
        </form>
    </section>
{% endblock %}
